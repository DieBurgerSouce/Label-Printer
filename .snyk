# Snyk (https://snyk.io) policy file
# Enterprise-grade vulnerability management for Screenshot_Algo
version: v1.25.0

# Ignore specific vulnerabilities
# Format: SNYK-<ECOSYSTEM>-<PACKAGE>-<ID>
ignore:
  # Example: Ignore low-severity vulnerabilities in dev dependencies
  # SNYK-JS-EXAMPLE-1234567:
  #   - '*':
  #       reason: 'Dev dependency only, not used in production'
  #       expires: 2025-06-01T00:00:00.000Z
  #       created: 2025-01-01T00:00:00.000Z

# Patch vulnerabilities where available
patch: {}

# Exclude paths from scanning
exclude:
  global:
    # Test fixtures and mocks
    - __tests__/fixtures/**
    - __mocks__/**
    # Build artifacts
    - dist/**
    - build/**
    - coverage/**
    # Documentation
    - docs/**
    # Archives
    - _archive/**

# Language-specific settings
language-settings:
  javascript:
    # Scan for vulnerabilities in production dependencies only by default
    # Use --dev flag to include dev dependencies
    productionOnly: true

# Severity threshold for failing builds
# Options: low, medium, high, critical
fail-on: high

# Monitor settings for continuous monitoring
monitoring:
  # Auto-remediation PRs
  autoRemediate: true
  # PR frequency: daily, weekly, monthly
  prFrequency: weekly
  # Maximum number of PRs to create
  maxPrsPerDay: 5

# Custom rules for project-specific checks
customRules:
  # Disallow certain packages
  disallowedPackages:
    - name: 'request'
      reason: 'Deprecated, use node-fetch or axios instead'
    - name: 'crypto-js'
      reason: 'Use native crypto module instead'
    - name: 'lodash'
      reason: 'Use lodash-es or native methods'

# License policy
licensesPolicy:
  # Allowed licenses
  allow:
    - MIT
    - Apache-2.0
    - BSD-2-Clause
    - BSD-3-Clause
    - ISC
    - 0BSD
    - CC0-1.0
    - Unlicense
  # Blocked licenses (will fail the build)
  block:
    - GPL-2.0
    - GPL-3.0
    - AGPL-3.0
    - LGPL-2.1
    - LGPL-3.0
    - SSPL-1.0
    - Commons-Clause

# Dependency pinning recommendations
pinning:
  # Pin all production dependencies
  production: true
  # Don't pin dev dependencies (more flexibility)
  development: false

# Trust policies
trustPolicies:
  # Only allow verified publishers
  verifiedPublishersOnly: false
  # Minimum package age (days)
  minimumPackageAge: 7
  # Minimum number of weekly downloads
  minimumDownloads: 100
